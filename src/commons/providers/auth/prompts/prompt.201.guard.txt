아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc

==============================================

조건-파일경로) 구현될 TSX 파일경로: src/commons/providers/auth/auth.guard.tsx

==============================================

조건-금지조건) ApolloClientProvider 수정 금지
조건-금지조건) url.ts 파일 수정 금지
조건-금지조건) AuthProvider, ModalProvider 코드 변경 금지

==============================================

핵심요구사항) 완성된 컴포넌트를 layout에서 import하여 연결시킬 것. (children을 감싸도록 만들 것)
            - 연결될 경로: src/app/layout.tsx
            - 연결될 순서: <ModalProvider /> 보다 아래에 위치할 것.

핵심요구사항) 권한여부를 검증하는 GUARD 셋팅을 구현할 것.
            1) 페이지 GUARD 구현
                1-1) 인가 시점
                    - 페이지 로드 후, 빈 화면을 노출하고 인가를 진행할 것.
                    - 인가에 성공하면 빈 화면을 제거하고, children을 보여줄 것.
                    - 인가에 실패하면 빈 화면을 유지할 것.
                        1. 로그인해주세요모달을 노출하고, 아래의 상황별 지시를 따를 것.
                
                1-2) 인가 조건
                    - 인증 프로바이더 경로: src/commons/providers/auth/auth.provider.tsx
                    - 이미 셋팅되어있는 auth.provider를 사용할 것.
                    - 이미 셋팅되어있는 auth.provider를 수정하지 말 것.
                    - AuthProvider 초기화 이후에 인가를 진행하여, 새로고침시 충돌 나지 않도록 할 것.

                1-3) 인가 방법
                    - 인증 프로바이더의 기능을 활용하여 로그인 유/무를 판단할 것.
                    - url.ts에 정의된 권한 검증 경로를 기준으로 구현할 것.
                    - 권한 검증 경로를 하드코딩하지 말고, url.ts를 import 하여 적용할 것.

                1-4) 권한분기테스트를 위한 기본값 설정
                    1. 실제환경과 테스트환경을 나누기 위한 테스트환경변수를 설정할 것: NEXT_PUBLIC_TEST_ENV=test
                    3. 실제환경은 항상 "비로그인 유저"를 기본으로 하여, 모든 페이지 로그인 여부에 따라 접속 가능하도록 할 것.
                    4. 테스트환경은 항상 "로그인 유저"를 기본으로 하여, 모든 페이지 로그인 여부에 상관 없이 접속 가능하도록 할 것.

            2) 각 상황별 모달의 확인을 누르면, 아래의 지시에 따를 것.
                2-1) 모달조건
                    - 모달 프로바이더 경로: src/commons/providers/modal/modal.provider.tsx
                    - 이미 셋팅되어있는 modal.provider를 사용할 것.
                    - 이미 셋팅되어있는 modal.provider를 수정하지 말 것.
                    - 모달은 한 번만 보여야 하며, 닫힌 뒤에는 같은 상황에서 다시 나타나지 않도록 할 것.

                2-2) 모달popup 메시지 내용
                    - title: 로그인이 필요한 서비스입니다.
                    - button: 공통컴포넌트 <Button />
                        - buttonText (1) 취소 (2) 로그인하기
                            - (1) 취소 클릭 시 모달 닫기 후 이전 페이지 이동
                            - (2) 로그인하기 클릭 시 모달 닫기 이후 로그인 페이지 이동

                2-3) 페이지이동조건
                    - commons/constants/url.ts의 페이지URL에 정의된 경로로 이동할 것.

핵심요구사항) 아래 추가된 사항을 step-by-step 구현할 것.
            - 비로그인 상태에서 보호된 페이지 접근 시,
                현재 페이지의 pathname을 redirect 파라미터로 포함하여 로그인 페이지로 이동할 것.
                예) /boards/12345 → /auth/login?redirect=/boards/12345
            - 로그인 성공 시 redirect 파라미터 값이 존재하면 해당 경로로 이동할 것.
            - redirect 파라미터가 없을 경우 기본값 "/boards" 로 이동할 것.
            - router.replace(redirect) 사용으로 로그인 페이지 뒤로가기 방지할 것.